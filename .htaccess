cat > manage.sh << 'EOF'
#!/bin/bash
case "$1" in
  start)
    source setenv.sh
    nohup ./bms_api > bms_output.log 2>&1 &
    echo "âœ… BMS API started"
    ;;
  stop)
    pkill -f bms_api
    echo "ğŸ›‘ BMS API stopped"
    ;;
  restart)
    pkill -f bms_api
    sleep 2
    source setenv.sh
    nohup ./bms_api > bms_output.log 2>&1 &
    echo "ğŸ”„ BMS API restarted"
    ;;
  status)
    ps aux | grep bms_api | grep -v grep || echo "âŒ Not running"
    ;;
  logs)
    tail -f bms_output.log
    ;;
  *)
    echo "Usage: $0 {start|stop|restart|status|logs}"
    ;;
esac
EOF

chmod +x manage.sh